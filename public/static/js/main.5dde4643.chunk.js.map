{"version":3,"sources":["redux/reducers.js","redux/store.js","components/SignIn.js","components/Login.js","redux/actions/userActions.js","components/SignUp.js","styles/theme.js","components/navigation/MenuPopUp.js","redux/actions/booksActions.js","components/navigation/LeftNavigation.js","components/navigation/useOutsideClick.js","components/home/EntryCard.js","components/home/Home.js","redux/actions/logsActions.js","components/newEntry/AddProcedure.js","components/newEntry/NewEntry.js","components/ViewEntry.js","components/ViewAllBookEntries.js","Router.js","App.js","serviceWorker.js","index.js"],"names":["combineReducers","user","state","token","isLoggedIn","firstName","lastName","action","type","value","books","book","id","logs","selectedLog","isLoading","log","procedures","book_entry_number","book_name","last_updated","quick_info","results","rxn_sketch","fileType","fileData","user_id","yield","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducers","applyMiddleware","thunk","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","props","classes","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","noValidate","onSubmit","handleSubmit","TextField","required","fullWidth","label","name","userLoginInfo","email","onChange","handleTextChange","autoComplete","autoFocus","password","Button","color","to","Login","location","dispatch","useDispatch","history","useHistory","useSelector","useState","setUserLoginInfo","from","pathname","useEffect","userObj","localStorage","getItem","JSON","parse","e","preventDefault","fetch","process","method","headers","body","stringify","then","res","json","setItem","catch","console","createSession","target","handleSignUpNavigation","push","SignUp","React","newUserData","setNewUserData","handleChange","userData","response","alert","Grid","container","item","xs","sm","justify","Link","href","createMuiTheme","typography","h6","fontFamily","MenuPopUp","Popper","open","anchorEl","role","undefined","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","handleClose","MenuList","autoFocusItem","menuItemContent","map","menuItem","i","linkTo","extraLinkAttribute","onClick","handleClick","MenuItem","text","fetchBooks","userToken","root","boxShadow","labelField","justifyContent","fontSize","icon","cursor","LeftNavigation","ref","useRef","allBooks","setAnchorEl","anchorBookEl","setAnchorBookEl","Boolean","bookOpen","bookName","displayInput","bookInput","setBookInput","reversedBooks","setReversedBooks","callback","current","contains","document","addEventListener","removeEventListener","useOutsideClick","handleBookStateSubmit","handleBookTextClick","currentTarget","handleBookClose","bookSubmitObject","addBook","handleDeleteBook","bookId","message","deleteBook","reverseBooksArr","sort","a","b","reverseAllBooks","Drawer","anchor","ThemeProvider","ListItem","faHome","ListItemText","primary","faUser","removeItem","Divider","List","button","key","bookid","ListItemIcon","getAttribute","card","EntryCard","rxnSketch","myCanvas","ChemDoodle","ViewerCanvas","index","rxnData","readRXN","loadContent","molecules","shapes","molData","readMOL","loadMolecule","Card","CardHeader","title","bookEntryNumber","titleTypographyProps","subheader","timestamp","parseInt","lastUpdated","Date","toDateString","createDateFromLastUpdated","CardContent","quickInfo","Home","allLogs","recentLogs","setRecentLogs","r","fetchLogs","logsSortedByDate","firstFewLogs","findLatestLogs","length","TextMaskCustom","inputRef","other","inputElement","mask","placeholderChar","keepCharPositions","showMask","AddProcedure","FormControl","InputLabel","htmlFor","Input","handleProcedureChange","inputComponent","FormHelperText","entry","multiline","rows","formField","height","padding","marginLeft","NewEntry","sketcher","setSketcher","match","params","logId","newEntry","setNewEntry","date","setProcedures","newSketcher","SketcherCanvas","useServices","oneMolecule","isMobile","findBookEntryNumber","logsinCurrentBookArr","book_id","updatedNewEntry","newBookEntryNumber","handleEntryChange","newProceduresArray","slice","propertyName","newEntryObject","today","now","setDateAndTimeCreated","sketchDataRxnFile","writeRXN","mol","getMolecule","sketchDataMolFile","writeMOL","setSketchData","payload","addLog","_","ViewEntry","selectedLogId","editableLog","setEditableLog","changesMade","quickInfoShowInput","procedureShowInput","resultsShowInput","yieldShowInput","editEntry","setEditEntry","fetchSelectedLog","dateShowInput","entryShowInput","handleInputChange","newEditableLog","toString","changeDateAndTimeLastUpdated","changeLog","onMouseDown","newEditEntry","canvasClicked","p","confirm","ViewAllBookEntries","logsFromBook","setLogsFromBook","selectedBook","find","findSelectedBook","arrOfSelectedLogs","selectLogsFromBook","ProtectedRoute","Component","rest","render","Router","path","exact","App","store","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.5dde4643.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\n\nconst user = (state = { token: '', isLoggedIn: false, firstName: '', lastName: ''}, action) => {\n  switch(action.type) {\n    case 'CREATE_SESSION':\n      return { ...state, isLoggedIn: true, token: action.value.token, firstName: action.value.firstName, lastName: action.value.lastName }\n    case 'END_SESSION':\n      return { token: '', isLoggedIn: false, firstName: '', lastName: ''}\n    default:\n      return state\n  }\n}\n\nconst books = (state = [], action) => {\n  switch(action.type) {\n    case 'FETCH_BOOKS':\n      return action.value\n    case 'ADD_BOOK':\n      return [ \n        ...state,\n        {\n          book: action.value.book, \n          id: action.value.id \n        }\n      ]\n    default:\n      return state\n  }\n}\n\nconst logs = (state = [], action) => {\n  switch(action.type) {\n    case 'FETCH_LOGS':\n      return action.value\n    case 'ADD_LOG':\n      return state\n    case 'CHANGE_LOG':\n      // let index;\n      // for (let i = 0; i < state.length; i++) {\n      //   if (action.logId == state[i].logId) {\n      //     index = i\n      return state\n      //   }\n      // }\n      // let newState = state.slice()\n      // newState.splice(index, 1, action.payload)\n      // return newState\n    default:\n      return state\n  }\n}\n\nconst selectedLog = (state = { \n  isLoading: false,\n  log: {\n  procedures: [],\n  book_entry_number: null,\n  book_name: \"\",\n  id: null,\n  last_updated: \"\",\n  quick_info: \"\",\n  results: \"\",\n  rxn_sketch: { fileType: \"\", fileData: \"\"},\n  user_id: null, \n  yield: \"\"\n  } }, action) => {\n    switch(action.type) {\n      case 'FETCHING_SELECTED_LOG':\n        return { ...state, isLoading: true }\n      case 'SUCCESS_FETCH_SELECTED_LOG':\n        return { ...state, log: action.value, isLoading: false }\n      default:\n        return state\n    }\n  }\n\nexport default combineReducers({ user, books, logs, selectedLog })","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducers from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { Avatar, Button, CssBaseline, TextField, Typography, Container, makeStyles } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport const SignIn = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} \n              noValidate \n              onSubmit={ props.handleSubmit }>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            value={ props.userLoginInfo.email }\n            onChange={ props.handleTextChange }\n            autoComplete=\"email\"\n            autoFocus/>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            value={ props.userLoginInfo.password }\n            onChange={ props.handleTextChange }\n            id=\"password\"\n            autoComplete=\"current-password\"/>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}>\n            Sign In\n          </Button>\n              <Link to={\"/signup\"} variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n        </form>\n      </div>\n    </Container>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router';\nimport { useHistory } from 'react-router-dom'\nimport { createSession } from '../redux/actions/userActions'\nimport { SignIn } from './SignIn'\n\nexport const Login = ({ location }) => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const user = useSelector(state => state.user)\n  const [ userLoginInfo, setUserLoginInfo ] = useState({\n    email: \"\",\n    password: \"\"\n  })\n  \n  const handleTextChange = e => {\n    setUserLoginInfo({\n      ...userLoginInfo,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    dispatch(createSession(userLoginInfo))\n  }\n\n  const handleSignUpNavigation = () => {\n    history.push(\"/signup\")\n  }\n  const { from } = location.state || {from: { pathname:\"/\" }};\n\n  useEffect(() => {\n    const userObj = localStorage.getItem('user')\n\n    if (userObj) {\n      const action = {\n        type: 'CREATE_SESSION',\n        value: JSON.parse(userObj)\n      }\n      dispatch(action)\n    }\n  }, []);\n  \n  return (\n    <>\n      { user.isLoggedIn ? \n        <Redirect to={from} /> :\n        <SignIn handleSubmit={ handleSubmit }\n                userLoginInfo={ userLoginInfo }\n                handleTextChange={ handleTextChange }\n                handleSignUpNavigation={ handleSignUpNavigation }\n        />\n      }\n    </>\n  );\n}","export const createUser = userData => {\n  return (dispatch) => {\n    // 'https://chem-logger.herokuapp.com/user/create'\n    fetch(`${process.env.REACT_APP_API_URL}/user/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    })\n    .then(res => res.json())\n    .then(response => {\n      alert('User Created!')\n    }).catch(e => {\n      console.log('issues: ', e)\n    })\n  }\n}\n\nexport const createSession = userLoginInfo => {\n  return (dispatch) => {\n    //'https://chem-logger.herokuapp.com/login'\n    fetch(`${process.env.REACT_APP_API_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userLoginInfo)\n    })\n      .then(res => res.json())\n      .then(userObj => {\n        const action = {\n          type: 'CREATE_SESSION',\n          value: userObj\n        }\n        localStorage.setItem('user', JSON.stringify(userObj))\n        dispatch(action)\n      }).catch((e) => {\n        console.log(\"issues\", e)\n      })\n  }\n}\n\nexport const endSession = () => {\n  return {\n      type: 'END_SESSION'\n    }\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom'\nimport { createUser } from '../redux/actions/userActions'\nimport { makeStyles, CssBaseline, Link, Grid, Container, TextField, Button, Avatar, Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport const SignUp = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [ newUserData, setNewUserData ] = React.useState({\n    email: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    password: \"\"\n  })\n\n  const handleChange = e => {\n    setNewUserData({\n      ...newUserData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    dispatch(createUser(newUserData))\n    history.push(\"/login\")\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} \n              noValidate\n              onSubmit={ handleSubmit }>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                value={ newUserData.firstName }\n                onChange={ handleChange }\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus/>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                value={ newUserData.lastName }\n                onChange={ handleChange }\n                autoComplete=\"lname\"/>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                value={ newUserData.email }\n                onChange={ handleChange }\n                autoComplete=\"email\"/>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={ newUserData.password }\n                onChange={ handleChange }\n                id=\"password\"\n                autoComplete=\"current-password\"/>\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}>\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/login\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n  typography: {\n    h6: {\n      fontFamily: \"'Raleway', sans-serif\",\n    }\n  }\n})\n\nexport default theme","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { Popper, Grow, Paper, ClickAwayListener, MenuList, MenuItem } from '@material-ui/core'\n\nexport const MenuPopUp = (props) => {\n  return (\n    <Popper open={props.open} \n            anchorEl={props.anchorEl} \n            role={undefined} \n            transition disablePortal >\n      {({ TransitionProps, placement }) => (\n        <Grow\n          {...TransitionProps}\n          style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }} >\n          <Paper>\n            <ClickAwayListener onClickAway={props.handleClose}>\n              <MenuList autoFocusItem={ props.open } id=\"menu-list-grow\">\n                {props.menuItemContent.map((menuItem, i) => {\n                  return (\n                    <div>\n                      { props.anchorEl && menuItem.linkTo ? \n                        <Link to={ menuItem.linkTo + props.extraLinkAttribute }\n                              onClick={ menuItem.handleClick }\n                              className=\"link\" >\n                         <MenuItem>\n                           { menuItem.text }\n                        </MenuItem>\n                      </Link> :\n                      <MenuItem onClick={ menuItem.handleClick } >\n                          { menuItem.text }\n                      </MenuItem> \n                      }\n                    </div>\n                  )\n                  })}\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n  )\n}\n","export const fetchBooks = (userToken) => {\n  return (dispatch) => {\n    // 'https://chem-logger.herokuapp.com/books'\n    fetch(`${process.env.REACT_APP_API_URL}/books`, {\n      headers: {\n        token: userToken\n      }\n    })\n      .then(res => res.json())\n      .then(response => {\n        const action = {\n          type: 'FETCH_BOOKS',\n          value: response\n        }\n        dispatch(action)\n      }).catch(e => {\n        console.log(e)\n      })\n  }\n}\n\nexport const addBook = (bookInput, userToken) => {\n  return (dispatch) => {\n    // 'https://chem-logger.herokuapp.com/books/create'\n    fetch(`${process.env.REACT_APP_API_URL}/books/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        token: userToken\n      },\n      body: JSON.stringify(bookInput)\n    })\n      .then(res => res.json())\n      .then(json => {\n        const action = {\n          type: 'ADD_BOOK',\n          value: json\n        }\n        dispatch(action)\n      }).catch((e) => {\n        console.log(e)\n      })\n  }\n}\n\nexport const deleteBook = ( bookId, userToken ) => {\n  return (dispatch) => {\n\n    fetch(`${process.env.REACT_APP_API_URL}/books/delete/${bookId}`, {\n      method: 'DELETE',\n      headers: {\n        token: userToken\n      },\n    })\n      .then(res => res.json())\n      .then(json => {\n        if(json.message === \"Book has logs\") {\n          alert(\"You can't delete a book that contains logs!\")\n        }\n        dispatch(fetchBooks(userToken))\n      }).catch((e) => {\n        console.log('err:', e)\n      })\n  }\n}","import React, { useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { makeStyles, Drawer, Divider, List, ListItem, ListItemIcon, ListItemText, Typography } from '@material-ui/core';\nimport { faHome, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport { ThemeProvider } from '@material-ui/styles'\nimport theme from '../../styles/theme'\nimport { useOutsideClick } from \"./useOutsideClick\";\nimport { MenuPopUp } from './MenuPopUp'\nimport { addBook, deleteBook } from '../../redux/actions/booksActions'\nimport { endSession } from '../../redux/actions/userActions'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    \"& .MuiPaper-root\": {\n      backgroundColor: \"#eaeaee\",\n      boxShadow: \"7px 7px 7px 0px #0d1137\"\n    }\n  },\n  labelField: {\n    width: \"175px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    margin: \"10px\",\n  },\n  label: {\n    display: \"inline-block\",\n    fontSize: \"22px\",\n  },\n  icon: {\n    margin: \"0 10px\",\n    cursor: \"pointer\",\n  }\n}));\n\nexport const LeftNavigation = (props) => {\n  const classes = useStyles();\n  const ref = useRef();\n  const dispatch = useDispatch();\n  const allBooks = useSelector( state => state.books )\n  const [ anchorEl, setAnchorEl ] = React.useState(null);\n  const [ anchorBookEl, setAnchorBookEl ] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const bookOpen = Boolean(anchorBookEl);\n\n  const [ bookInput, setBookInput ] = React.useState({\n    bookName: \"\",\n    displayInput: false,\n  })\n  const [ reversedBooks, setReversedBooks ] = React.useState([])\n\n  const reverseAllBooks = () => {\n    let reverseBooksArr = allBooks.sort((a, b) => b.id - a.id)\n    setReversedBooks(reverseBooksArr)\n  }\n\n  const handleBookChange = e => {\n    setBookInput({\n      ...bookInput,\n      bookName: e.target.value\n    })\n  }\n\n  useOutsideClick(ref, (e) => {\n    //to avoid initial click trigger, before form renders\n    if (bookInput.displayInput) {\n      //disregard empty, null, space values\n      if (bookInput.bookName === \"\" || bookInput.bookName === \" \") {\n        setBookInput({\n          bookName: \"\",\n          displayInput: false,\n        })\n      } else {\n        handleBookStateSubmit(e)\n      }\n    }\n  });\n\n  const handleTextClick = (e) => {\n    setAnchorEl(e.currentTarget);\n  };\n  const handleBookTextClick = (e) => {\n    setAnchorBookEl(e.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleBookClose = () => {\n    setAnchorBookEl(null);\n  };\n\n  const handleBookStateSubmit = e => {\n    e.preventDefault()\n    let bookSubmitObject = {\n      bookName: bookInput.bookName\n    }\n    dispatch(addBook(bookSubmitObject, props.userToken))\n  }\n\n  const signOut = () => {\n    localStorage.removeItem('user')\n    //sets isloggedin to false, clears user info from redux store\n    dispatch(endSession())\n  }\n\n  const handleDeleteBook = bookId => {\n    dispatch(deleteBook(bookId, props.userToken))\n    handleBookClose()\n  }\n\n  useEffect(() => {\n    reverseAllBooks()    \n    setBookInput({\n      bookName: \"\",\n      displayInput: false,\n    })\n  }, [allBooks])\n\n  return (\n    <Drawer\n      className={ classes.root }\n      variant=\"permanent\"\n      anchor=\"left\" >\n      <ThemeProvider theme={ theme }>\n        <Link to='/' className=\"link\" >\n          <ListItem>\n            <FontAwesomeIcon icon={faHome} \n                            className=\"left-nav-icon\"/>\n            <ListItemText primary=\"Home\" />\n          </ListItem>\n        </Link>\n        <ListItem onClick={ handleTextClick }>\n          <FontAwesomeIcon icon={ faUser } \n                           className=\"left-nav-icon\" />\n          <ListItemText primary={ props.user.firstName && props.user.lastName \n                                  ?\n                                    props.user.firstName + \" \" + props.user.lastName\n                                  :\n                                    props.user.email }\n                        style={{ cursor: \"pointer\" }}/>\n        </ListItem>\n        <MenuPopUp \n          open={ open }\n          handleClose={ handleClose }\n          anchorEl={ anchorEl }\n          menuItemContent={\n            [\n              {\n                text: \"Sign Out\",\n                linkTo: \"\",\n                handleClick: () => signOut()\n              }\n            ]\n          }\n          extraLinkAttribute={ \"\" }/>\n      </ThemeProvider>\n      <Divider/>\n      <div className={classes.labelField}>\n        <Typography className={classes.label}>\n          Books\n        </Typography>\n        <AddCircleOutlineOutlinedIcon \n          className={classes.icon}\n          onClick={() => {\n            setBookInput({\n              ...bookInput, \n              displayInput: !bookInput.displayInput,\n            })\n          }}/>\n      </div>\n      {bookInput.displayInput\n        && \n          <form ref={ref} onSubmit={ handleBookStateSubmit }>\n            <input \n              autoFocus=\"autofocus\" \n              className=\"left-nav-input\"\n              onChange={ handleBookChange }/>\n          </form>}\n      <List>\n        {reversedBooks.map((b) => (\n          <ListItem \n            button \n            key={ b.id }\n            onClick={ handleBookTextClick }\n            bookid = { b.id }>\n            <ListItemIcon></ListItemIcon>\n            <ListItemText primary={ b.book } />\n          </ListItem>\n        ))}\n      </List>\n      <MenuPopUp \n        open={ bookOpen }\n        handleClose={ handleBookClose }\n        anchorEl={ anchorBookEl }\n        menuItemContent={\n          [\n            {\n              text: \"New Entry\",\n              linkTo: \"/new-entry/\",\n              handleClick: () => handleBookClose()\n            },\n            {\n              text: \"View All\",\n              linkTo: \"/view-all/\",\n              handleClick: () => handleBookClose()\n            },\n            {\n              text: \"Delete Book\",\n              handleClick: () => handleDeleteBook(anchorBookEl.getAttribute(\"bookid\"))\n            }\n          ]}\n        extraLinkAttribute={ anchorBookEl ? anchorBookEl.getAttribute(\"bookid\"): \"\" }/>\n    </Drawer>\n  )\n}","import { useEffect } from \"react\";\n\nexport const useOutsideClick = (ref, callback) => {\n  const handleClick = e => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback(e);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n};\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Card, CardHeader, CardContent, Typography } from '@material-ui/core/';\n/* global ChemDoodle */\n\nconst useStyles = makeStyles(() => ({\n  card: {\n    boxShadow: \"2px 2px 7px 0px #0d1137\"\n  },\n}));\n\nexport const EntryCard = (props) => {\n  const classes = useStyles();\n\n  const createDateFromLastUpdated = () => {\n    //convert from str to int \n     let timestamp = parseInt(props.lastUpdated)\n     let date = new Date(timestamp)\n     //convert to be more legible for humans\n     let humanDate = date.toDateString()\n     return humanDate\n  }\n\n  useEffect(() => {\n    if (props.rxnSketch.fileData) {\n      let myCanvas = new ChemDoodle.ViewerCanvas(`myCanvas-${props.index}`, '200', '100');\n      if (props.rxnSketch.fileType === \"rxn\") {\n        let rxnData = ChemDoodle.readRXN(props.rxnSketch.fileData);\n        myCanvas.loadContent(rxnData.molecules, rxnData.shapes)\n      }\n      if (props.rxnSketch.fileType === \"mol\") {\n        let molData = ChemDoodle.readMOL(props.rxnSketch.fileData)\n        myCanvas.loadMolecule(molData)\n      }\n    }\n  }, [props]);\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader title={props.bookName + ' - Entry ' + props.bookEntryNumber}\n                  titleTypographyProps={{ variant:'h6' }}\n                  // className={classes.header}\n                  subheader={ createDateFromLastUpdated() }/>\n      <div className=\"entry-card-canvas-div\">\n        { props.rxnSketch.fileData ? \n          <canvas id={`myCanvas-${props.index}`} /> \n        : \n          <div className=\"entry-card-no-canvas\">\n            <Typography>\n              No Reaction Scheme\n            </Typography>\n          </div> }\n      </div>\n      <CardContent>\n        <Typography variant=\"body2\" \n                    color=\"textSecondary\" \n                    component=\"p\">\n          { props.quickInfo }\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n}","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { LeftNavigation } from '../navigation/LeftNavigation'\nimport { fetchBooks } from '../../redux/actions/booksActions'\nimport { fetchLogs } from '../../redux/actions/logsActions'\nimport { EntryCard } from './EntryCard'\n\nexport const Home = () => {\n  const dispatch = useDispatch()\n  const allLogs = useSelector( state => state.logs )\n  const user = useSelector ( state => state.user )\n  const userToken = user.token\n  const [ recentLogs, setRecentLogs ] = React.useState([])\n  \n  const findLatestLogs = () => {\n    let logsSortedByDate = []\n    let firstFewLogs = []\n    logsSortedByDate = allLogs.sort((a, b) => {\n      return b.last_updated - a.last_updated\n    })\n\n    for (let i = 0; i < 10; i++) {\n      if (!logsSortedByDate[i]) {\n        setRecentLogs(firstFewLogs)\n      } else {\n        firstFewLogs.push(logsSortedByDate[i])\n      }\n    }\n    setRecentLogs(firstFewLogs)\n  }\n\n  useEffect(() => {\n    dispatch(fetchLogs(userToken))\n    dispatch(fetchBooks(userToken))\n  }, []);\n\n  useEffect(() => {\n    findLatestLogs()\n  }, [ allLogs ]);\n\n  return (\n    <>\n      <LeftNavigation \n        userToken={ userToken }\n        user={ user }/>\n      <div id=\"home-container\">\n        <h1 className=\"headline-text\">\n          { user.firstName ? `Welcome ${user.firstName}!` : \"Welcome!\"}\n        </h1>\n        <div id=\"home-recent-logs\">\n          <h3>Recent Logs:</h3>\n          <div>\n            {recentLogs.length === 0 ? \n              'No Entries'\n              :\n              <div className=\"entry-card-container-div\">\n                {recentLogs.map((log, i) => {\n                  return (\n                    <div className=\"entry-card-div\">\n                      <Link to={`/view-entry/${ log.id }`} \n                            className=\"link\">\n                        <EntryCard\n                          key={ i }\n                          index={ i }\n                          bookName={ log.book }\n                          rxnSketch={ log.rxn_sketch }\n                          quickInfo={ log.quick_info }\n                          lastUpdated={ log.last_updated }\n                          bookEntryNumber={ log.book_entry_number }/>\n                      </Link>\n                    </div>\n                  )\n                })}\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}","export const fetchLogs = (userToken) => {\n  return (dispatch) => {\n    // 'https://chem-logger.herokuapp.com/logs'\n    fetch(`${process.env.REACT_APP_API_URL}/logs`, {\n      headers: {\n        token: userToken\n      }\n    })\n      .then(res => res.json())\n      .then(response => {\n        const action = {\n          type: 'FETCH_LOGS',\n          value: response.map(r => {\n            return {\n              ...r,\n              rxn_sketch: JSON.parse(r.rxn_sketch)\n            }\n          })\n        }\n        dispatch(action)\n      }).catch(e => {\n        console.log(e)\n      })\n  }\n}\n\nexport const addLog = (log, userToken) => {\n  return (dispatch) => {\n    // 'https://chem-logger.herokuapp.com/logs/create'\n    fetch(`${process.env.REACT_APP_API_URL}/logs/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        token: userToken\n      },\n      body: JSON.stringify(log)\n    })\n      .then(res => {\n        // res.json()\n      })\n      .then( response => {\n        // const action = {\n        //   type: 'ADD_LOG',\n        //   value: response\n        // }\n        // dispatch(action)\n      }).catch((e) => {\n        console.log(\"issues\", e)\n      })\n  }\n}\n\nexport const fetchSelectedLog = (logId, userToken) => {\n  return (dispatch) => {\n    const action = {\n      type: 'FETCHING_SELECTED_LOG'\n    }\n    dispatch(action)\n\n    // `https://chem-logger.herokuapp.com/logs/${logId}`\n    fetch(`${process.env.REACT_APP_API_URL}/logs/${logId}`, {\n      headers: {\n        token: userToken\n      }\n    })\n      .then(res => res.json())\n      \n      .then(response => {\n        //do you do .then with fetching selected log...then the success one?\n        const action = {\n          type: 'SUCCESS_FETCH_SELECTED_LOG',\n          value: {\n            ...response,\n            rxn_sketch: JSON.parse(response.rxn_sketch)\n          }\n        }\n        dispatch(action)\n      }).catch(e => {\n        console.log('issues: ', e)\n      })\n\n  }\n}\n\nexport const changeLog = (logId, payload, userToken) => {\n  return (dispatch) => {\n    // `https://chem-logger.herokuapp.com/logs/update/${logId}`\n    fetch(`${process.env.REACT_APP_API_URL}/logs/update/${logId}`, {\n      method: 'PUT',\n      headers: {\n          'Content-Type': 'application/json',\n          token: userToken\n        },\n      body: JSON.stringify(payload)\n    })\n    .then(res => res.json())\n    .then( response => {\n      alert('Log Updated!')\n    })\n    .catch(e => {\n      console.log('issues: ', e)\n    })\n  }\n}","import React from 'react';\nimport { TextField, FormControl, InputLabel, Input, FormHelperText } from '@material-ui/core';\nimport MaskedInput from 'react-text-mask';\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      {...other}\n      ref={(ref) => inputRef(ref ? ref.inputElement : null)}\n      mask={[/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/]}\n      placeholderChar={'\\u2000'}\n      keepCharPositions\n      showMask\n    />\n  );\n}\n\nexport const AddProcedure = (props) => {\n  return (\n    <>\n      <div id=\"add-procedure-date-container\">\n        <FormControl>\n          <InputLabel htmlFor=\"formatted-text-mask-input\">Date</InputLabel>\n          <Input\n            onChange={ (e) => {\n              props.handleProcedureChange(e, props.index) \n            }}\n            name=\"date\"\n            id=\"formatted-text-mask-input\"\n            inputComponent={ TextMaskCustom }\n          />\n          <FormHelperText>mm/dd/yy</FormHelperText>\n        </FormControl>\n      </div>\n      <div id=\"add-procedure-entry-container\">\n        <TextField\n          id=\"outlined-multiline-static\"\n          label=\"Procedure\"\n          name='entry'\n          value={ props.procedures.entry}\n          onChange={ (e) => {\n            props.handleProcedureChange(e, props.index) \n          }}\n          multiline\n          variant=\"outlined\"\n          rows={4}\n          fullWidth/>\n      </div>\n\n  </>\n  )\n}","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LeftNavigation } from '../navigation/LeftNavigation'\nimport { AddProcedure } from './AddProcedure';\nimport { addLog } from '../../redux/actions/logsActions';\nimport { fetchBooks } from '../../redux/actions/booksActions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { TextField, Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\n/* global ChemDoodle */\n\nconst useStyles = makeStyles({\n  formField: {\n    backgroundColor: 'white',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n    padding: '20px',\n    marginLeft: '220px',\n    alignItems: 'center',\n  },\n  button: {\n    width: '30%',\n    margin: '10px'\n  },\n})\n\nexport const NewEntry = (props) => {\n  const classes = useStyles();\n  const user = useSelector( state => state.user )\n  const userToken = user.token\n  const allLogs = useSelector(state => state.logs)\n  const dispatch = useDispatch();\n  const history = useHistory()\n  const [ sketcher, setSketcher ] = React.useState(null);\n  \n  const [ newEntry, setNewEntry ] = React.useState({\n    bookId: props.match.params.id,\n    bookEntryNumber: 1,\n    rxnSketch: {\n      fileData: null,\n      fileType: null,\n    },\n    quickInfo: \"\",\n    results: \"\",\n    yield: \"\",\n    lastUpdated: \"\",\n    logId: 0,\n  })\n\n  const [ procedures, setProcedures ] = React.useState([\n      {\n        date: \"\",\n        entry: \"\"\n      }\n    ]\n  )\n  // useEffect(() => {findBookEntryNumber()}, [allLogs])\n  useEffect(() => {\n    dispatch(fetchBooks(userToken))\n     //need to make sketcher responsive*****\n    let newSketcher = new ChemDoodle.SketcherCanvas(\"canvas-id\", \"850\", \"350\", {\n      useServices: false,\n      oneMolecule: false,\n      isMobile: false,\n    });\n    setSketcher(newSketcher)\n    findBookEntryNumber()\n  }, [])\n\n  const findBookEntryNumber = () => {\n    const logsinCurrentBookArr = [];\n    //search allLogs for book_id that matches props.match.params.id, add these to array\n    for ( let i = 0; i < allLogs.length; i++ ) {\n      if ( allLogs[i].book_id == props.match.params.id ) {\n        logsinCurrentBookArr.push(allLogs[i])\n      }\n    }\n    //if there aren't any, entry is already set to one so return\n    if ( logsinCurrentBookArr.length === 0 ) {\n      return\n    }\n    //sort array by bookEntryNumber in descending order \n    logsinCurrentBookArr.sort((a, b) => b.book_entry_number - a.book_entry_number)\n    //add 1 to biggest bookEntryNumber, return this currentBookEntryNumber\n    let updatedNewEntry = newEntry\n    let newBookEntryNumber = logsinCurrentBookArr[0].book_entry_number + 1\n    updatedNewEntry.bookEntryNumber = newBookEntryNumber\n    setNewEntry(updatedNewEntry)\n  }\n\n  const handleEntryChange = e => {\n    setNewEntry({\n      ...newEntry,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleProcedureChange = (e, i) => {\n    const newProceduresArray = procedures.slice()\n    const propertyName = e.target.name\n    newProceduresArray[i][propertyName]= e.target.value\n    setProcedures(newProceduresArray)\n  }\n\n  const addProcedure = () => {\n    setProcedures([\n      ...procedures,\n        {\n          date: \"\",\n          entry: \"\"\n        }\n    ])\n  }\n\n  const setDateAndTimeCreated = () => {\n    let newEntryObject = newEntry\n    const today = Date.now();\n    newEntryObject.lastUpdated = today\n    setNewEntry({newEntryObject})\n  }\n\n  const setSketchData = () => {\n    let newEntryObject = newEntry\n    let molecules = sketcher.molecules\n    let shapes = sketcher.shapes\n    if (shapes.length) {\n      let sketchDataRxnFile = ChemDoodle.writeRXN(molecules, shapes)\n      newEntryObject.rxnSketch.fileData = sketchDataRxnFile\n      newEntryObject.rxnSketch.fileType = \"rxn\"\n      setNewEntry({newEntryObject})\n    } else if (molecules.length) {\n        let mol = sketcher.getMolecule()\n        let sketchDataMolFile = ChemDoodle.writeMOL(mol)\n        newEntryObject.rxnSketch.fileData = sketchDataMolFile\n        newEntryObject.rxnSketch.fileType = \"mol\"\n        setNewEntry({newEntryObject})\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    setDateAndTimeCreated()\n    setSketchData()\n    const payload = { ...newEntry, procedures }\n    dispatch(addLog(payload, userToken))\n    alert('Entry added!')\n    history.push(\"/\")\n  }\n\n  return (\n    <>\n      <LeftNavigation \n        userToken={ userToken }\n        user={ user }/>\n      <form className={ classes.formField } onSubmit={ handleSubmit }>\n        <div>\n          <TextField\n            label=\"Quick Info (<10 words)\"\n            name=\"quickInfo\"\n            value={ newEntry.quickInfo }\n            onChange={ handleEntryChange }\n            fullWidth/>\n          <div id=\"container-canvas\">\n            <canvas id=\"canvas-id\" />\n          </div>\n          <label className=\"body-text\" >Procedure:</label>\n          <br />\n          {procedures.map((_, i) => {\n            return (\n              <AddProcedure\n                key={i}\n                index={i}\n                handleProcedureChange={ handleProcedureChange }\n                procedures={ procedures } \n              />\n            )\n          })}\n        </div>\n        <Button\n          variant=\"contained\"\n          onClick={ addProcedure }\n          className={classes.button}>\n          Add a new Day\n        </Button>\n        <div className=\"new-entry-text-container\">\n          <TextField\n            id=\"standard-basic\"\n            label=\"Results\"\n            name=\"results\"\n            value={ newEntry.results }\n            onChange={ handleEntryChange }\n            fullWidth/>\n        </div>\n        <div className=\"new-entry-text-container\">\n          <TextField\n            id=\"standard-basic\"\n            label=\"Yield (%)\"\n            name=\"yield\"\n            value={ newEntry.yield }\n            onChange={ handleEntryChange }\n            fullWidth/>\n        </div>\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          className={classes.button}>\n          Save\n        </Button>\n        <div id=\"new-entry-number-container\">\n          <h3>Entry {newEntry.bookEntryNumber}</h3>\n        </div>\n      </form>\n    </>\n  )\n}","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LeftNavigation } from './navigation/LeftNavigation'\nimport { fetchSelectedLog, changeLog } from '../redux/actions/logsActions'\nimport { fetchBooks } from '../redux/actions/booksActions'\nimport { Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\n/* global ChemDoodle */\n\nexport const ViewEntry = props => {\n  const history = useHistory()\n  const dispatch = useDispatch();\n  const selectedLogId = props.match.params.id\n  const user = useSelector( state => state.user )\n  const userToken = user.token\n  const [ sketcher, setSketcher ] = React.useState(null);\n  const selectedLog = useSelector( state => state.selectedLog.log )\n  const isLoading = useSelector( state => state.selectedLog.isLoading )\n  \n  // const updateLoading = () => {\n  //   if (selectedLog) {\n  //     setIsLoading(false)\n  //   }\n  // }\n  const [ editableLog, setEditableLog ] = React.useState({...selectedLog})\n\n  const [ editEntry, setEditEntry ] = React.useState({\n    changesMade: false,\n    quickInfoShowInput: false,\n    procedureShowInput: false,\n    resultsShowInput: false,\n    yieldShowInput: false,\n    procedures: []\n  })\n\n  useEffect(() => {\n    dispatch(fetchSelectedLog(selectedLogId, userToken))\n    dispatch(fetchBooks(userToken))\n  }, [])\n\n  useEffect(() => {\n    // updateLoading()\n    setEditEntry({\n      ...editEntry,\n      procedures: selectedLog?.procedures?.map(() => ({\n        dateShowInput: false,\n        entryShowInput: false,\n      }))\n    })\n    setEditableLog({...selectedLog})\n\n    if (!sketcher) {\n      //make responsive\n      let myCanvas = new ChemDoodle.SketcherCanvas(\"canvas-id\", \"600\", \"350\", {\n        useServices: false,\n        oneMolecule: false,\n        isMobile: false,\n      });\n      setSketcher(myCanvas)\n      // Make new sketcher\n      return \n    }\n    \n    if (selectedLog?.rxn_sketch?.fileType === \"rxn\") {\n      let rxnData = ChemDoodle.readRXN(selectedLog.rxn_sketch.fileData);\n      sketcher.loadContent(rxnData.molecules, rxnData.shapes)\n    }\n    if (selectedLog?.rxn_sketch?.fileType === \"mol\") {\n      let molData = ChemDoodle.readMOL(selectedLog.rxn_sketch.fileData)\n      sketcher.loadMolecule(molData)\n    }\n  }, [selectedLog])\n\n  const handleInputChange = e => {\n    setEditableLog({\n      ...editableLog,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleProcedureChange = (e, i) => {\n      setEditableLog({\n        ...editableLog,\n        procedures: [\n          ...editableLog.procedures.slice(0, i),\n          {\n            ...editableLog.procedures[i],\n            [e.target.name]: e.target.value\n          },\n          ...editableLog.procedures.slice(i + 1)\n        ]\n      })\n  }\n\n  //'save changes' or 'discard changes' buttons appear when clicking on canvas\n  let canvasClicked = () => {\n    let newEditEntry = { ...editEntry, changesMade: true }\n    setEditEntry(newEditEntry)\n  }\n\n  const changeDateAndTimeLastUpdated = () => {\n    let newEditableLog = editableLog\n    const today = Date.now();\n    newEditableLog.last_updated = today.toString()\n    setEditableLog(newEditableLog)\n  }\n\n  const setSketchData = () => {\n    let newEditableLog = editableLog\n    let molecules = sketcher.molecules\n    let shapes = sketcher.shapes\n    if (shapes.length) {\n      let sketchDataRxnFile = ChemDoodle.writeRXN(molecules, shapes)\n      newEditableLog.rxn_sketch.fileData = sketchDataRxnFile\n      newEditableLog.rxn_sketch.fileType = \"rxn\"\n      setEditableLog(newEditableLog)\n    } else if (molecules.length) {\n        let mol = sketcher.getMolecule()\n        let sketchDataMolFile = ChemDoodle.writeMOL(mol)\n        newEditableLog.rxn_sketch.fileData = sketchDataMolFile\n        newEditableLog.rxn_sketch.fileType = \"mol\"\n        setEditableLog(newEditableLog)\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    changeDateAndTimeLastUpdated()\n    setSketchData()\n    const payload = { ...editableLog }\n    dispatch(changeLog(selectedLogId, payload, userToken))\n    history.push(\"/\")\n  }\n\n  return (\n    <>\n      <LeftNavigation userToken={ userToken }\n                      user={ user }\n      />\n        <div id=\"view-entry-paper\">\n          <div id=\"view-entry-pattern\">\n              <div id=\"view-entry-content\">\n                <h1>{selectedLog.book}: Entry {selectedLog.book_entry_number} </h1 >\n                <form onSubmit={ handleSubmit }>\n                  <div onClick={() => {\n                    setEditEntry({\n                      ...editEntry, \n                      quickInfoShowInput: true, \n                      changesMade: true,\n                    })\n                  }}>\n                    <h2 className=\"view-entry-text\">Quick Info: </h2>\n                    {editEntry.quickInfoShowInput ? \n                      <input \n                        value={editableLog.quick_info} \n                        name=\"quick_info\"\n                        onChange={ e => handleInputChange(e) }\n                      />\n                      :\n                      <h2 className=\"view-entry-text\">{selectedLog.quick_info} </h2>\n                    }\n                  </div>\n                  <canvas id=\"canvas-id\" onMouseDown={() => canvasClicked()} />\n                  <br />\n                  <h2 className=\"view-entry-text\">Procedure: </h2>\n                    {editableLog.procedures.map((p, i) => {\n                      return (\n                        <div className=\"view-entry-procedure-div\">\n                          {editEntry.procedures[i] && editEntry.procedures[i].dateShowInput ?\n                            <input \n                              value={p.date} \n                              name=\"date\"\n                              onChange={ e => handleProcedureChange(e, i) }\n                            />\n                          :\n                            <h2 className=\"view-entry-procedure-date\" \n                                onClick={() => {\n                                  setEditEntry({\n                                    ...editEntry,\n                                    changesMade: true,\n                                    procedures: [\n                                      ...editEntry.procedures.slice(0, i),\n                                      {\n                                        ...editEntry.procedures[i],\n                                        dateShowInput: true,\n                                      },\n                                      ...editEntry.procedures.slice(i + 1)\n                                    ]\n                                  })\n                                }}\n                            >\n                              {p.date} \n                            </h2>\n                          }\n                          {editEntry.procedures[i] && editEntry.procedures[i].entryShowInput ?\n                            <input \n                              value={p.entry} \n                              name=\"entry\"\n                              onChange={ e => handleProcedureChange(e, i) }\n                            />\n                          :\n                            <h2 className=\"view-entry-procedure-entry\"\n                                onClick={() => {\n                                  setEditEntry({\n                                    ...editEntry,\n                                    changesMade: true,\n                                    procedures: [\n                                      ...editEntry.procedures.slice(0, i),\n                                      {\n                                        ...editEntry.procedures[i],\n                                        entryShowInput: true,\n                                      },\n                                      ...editEntry.procedures.slice(i + 1)\n                                    ]\n                                  })\n                                }}\n                            >\n                              {p.entry}\n                            </h2>\n                          }\n                        </div>\n                      )\n                    })}\n                  <div onClick={() => {\n                    setEditEntry({\n                      ...editEntry, \n                      resultsShowInput: true, \n                      changesMade: true,\n                    })\n                  }}>\n                    <h2 className=\"view-entry-text\">Results: </h2>\n                    {editEntry.resultsShowInput ?\n                      <input \n                        value={editableLog.results}\n                        name=\"results\"\n                        onChange={ e => handleInputChange(e) }\n                      />\n                      :\n                      <h2 className=\"view-entry-text\">{selectedLog.results}</h2>\n                    }\n                  </div>\n                  <div onClick={() => {\n                    setEditEntry({\n                      ...editEntry, \n                      yieldShowInput: true, \n                      changesMade: true,\n                    })\n                  }}>\n                    <h2 className=\"view-entry-text\">Yield: </h2>\n                    {editEntry.yieldShowInput ?\n                      <input \n                        value={editableLog.yield} \n                        name=\"yield\"\n                        onChange={ e => handleInputChange(e) }\n                      />\n                      :\n                      <h2 className=\"view-entry-text\">{selectedLog.yield}</h2>\n                    }\n                  </div>\n                  {/* Need to update lastUpdated when click 'Save Changes' */}\n                  { editEntry.changesMade && \n                    <div id=\"view-entry-div-buttons\">\n                      <Button color=\"primary\" \n                              variant=\"contained\" \n                              type='submit'\n                      >\n                        Save Changes\n                      </Button>\n                      <Button color=\"secondary\" \n                              variant=\"contained\" \n                              onClick={() => {\n                                if (window.confirm('Are you sure you want to discard changes?')) {\n                                  history.push(\"/\")\n                                }\n                              }}\n                      >\n                        Discard Changes\n                      </Button>\n                    </div>\n                  }\n                </form>\n              </div>\n          </div>\n        </div>\n    </>\n  )\n}","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { LeftNavigation } from './navigation/LeftNavigation'\nimport { EntryCard } from './home/EntryCard'\n\nexport const ViewAllBookEntries = props => {\n  const user = useSelector( state => state.user )\n  const userToken = user.token\n  const allLogs = useSelector( state => state.logs )\n  const [ logsFromBook, setLogsFromBook ] = React.useState([])\n\n  const findSelectedBook = state => {\n    return state.books.find(b => b.id == props.match.params.id)\n  }\n  const selectedBook = useSelector(state => findSelectedBook(state))\n\n  const selectLogsFromBook = () => {\n    let arrOfSelectedLogs = []\n\n    for (let i = 0; i < allLogs.length; i ++) {\n      if ( allLogs[i].book_id == props.match.params.id) {\n        arrOfSelectedLogs.push(allLogs[i])\n      }\n    }\n    setLogsFromBook(arrOfSelectedLogs)\n  }\n\n  useEffect(()=> {\n    selectLogsFromBook()\n  }, [selectedBook])\n  \n  return (\n    <>\n      <LeftNavigation user={ user } \n                      userToken={ userToken }/>\n      <div className=\"view-all-bk-entries\">\n        <h1>{ selectedBook.book }</h1>\n        <div>\n          { logsFromBook.length === 0 ? \n            \"No Entries Yet!\" \n            : \n            <div className=\"entry-card-container-div\">\n              {logsFromBook.map((log, i) => {\n                return (\n                  <div className=\"entry-card-div\">\n                    <Link to={`/view-entry/${ log.id }`} \n                          className=\"link\">\n                      <EntryCard\n                        key={ i }\n                        index={ i }\n                        bookName={ log.book }\n                        rxnSketch={ log.rxn_sketch }\n                        quickInfo={ log.quick_info }\n                        lastUpdated={ log.last_updated }\n                        bookEntryNumber={ log.book_entry_number }\n                      />\n                    </Link>\n                  </div>\n                )\n              })}\n            </div>\n            }\n        </div>\n      </div>\n    </>\n  )\n}","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Login } from './components/Login';\nimport { SignUp } from './components/SignUp';\nimport { Home } from './components/home/Home';\nimport { NewEntry } from './components/newEntry/NewEntry';\nimport { ViewEntry } from './components/ViewEntry';\nimport { ViewAllBookEntries } from './components/ViewAllBookEntries'\n\nconst ProtectedRoute = ({component: Component, location, ...rest}) => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  //if no user in redux store, check local storage for token\n  if (!user) {\n    const userObj = localStorage.getItem('user')\n    if (userObj) {\n      const action = {\n        type: 'CREATE_SESSION',\n        value: JSON.parse(userObj)\n      }\n      dispatch(action)\n    }\n  }\n\n  return (\n    <Route\n    {...rest}\n    render={(props) => user.isLoggedIn\n      ? <Component {...props} />\n      : <Redirect to={{ \n          pathname: \"/login\",\n          state: { from: location }\n          }}\n        />\n    }\n    />\n  )\n}\n\nconst Router = () => {\n\n  return (\n    <Switch>\n      <Route path=\"/login\" component={ Login } />\n      <Route path=\"/signup\" component={ SignUp } />\n      <ProtectedRoute exact path=\"/\" component={ Home } />\n      <ProtectedRoute path=\"/new-entry/:id\" component={ NewEntry } />\n      <ProtectedRoute path=\"/view-entry/:id\" component={ ViewEntry } />\n      <ProtectedRoute path=\"/view-all/:id\" component={ ViewAllBookEntries } />\n    </Switch>\n  )\n}\n\nexport default Router","import React from 'react';\nimport './styles/App.css';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport { BrowserRouter } from 'react-router-dom'\nimport Router from './Router'\n\nfunction App() {\n  return (\n      <Provider store={ store }>\n        <BrowserRouter >\n          <Router />\n        </BrowserRouter>\n      </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}